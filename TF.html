<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>Ú©ÙˆØ¦ÛŒØ² Ø¢Ù†Ù„Ø§ÛŒÙ† Ø³ÙˆØ§Ø¯ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ - ØµØ­ÛŒØ­/ØºÙ„Ø·</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      color: #e5e7eb;
      margin: 0;
      padding: 20px;
      min-height: 100vh;
    }
    
    .container {
      max-width: 900px;
      margin: auto;
      background: rgba(2, 6, 23, 0.95);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.5);
      border: 1px solid rgba(37, 99, 235, 0.3);
    }
    
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.2);
    }
    
    .header h1 {
      margin: 0;
      color: #60a5fa;
      font-size: 2rem;
      text-align: center;
      flex: 1;
    }
    
    .back-btn {
      background: linear-gradient(145deg, #374151, #1f2937);
      color: #e5e7eb;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 14px;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s;
    }
    
    .back-btn:hover {
      background: linear-gradient(145deg, #4b5563, #374151);
      transform: translateX(-5px);
    }
    
    .progress-bar {
      height: 8px;
      background: #1e293b;
      border-radius: 4px;
      margin-bottom: 30px;
      overflow: hidden;
    }
    
    .progress {
      height: 100%;
      background: linear-gradient(90deg, #2563eb, #3b82f6);
      border-radius: 4px;
      width: 0%;
      transition: width 0.5s ease;
    }
    
    .info-panel {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }
    
    .info-card {
      background: rgba(30, 41, 59, 0.6);
      padding: 15px;
      border-radius: 12px;
      text-align: center;
      border: 1px solid rgba(96, 165, 250, 0.2);
    }
    
    .info-card .label {
      font-size: 14px;
      color: #94a3b8;
      margin-bottom: 5px;
    }
    
    .info-card .value {
      font-size: 24px;
      font-weight: bold;
      color: #60a5fa;
    }
    
    .question-card {
      background: rgba(30, 41, 59, 0.8);
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 30px;
      border: 2px solid rgba(96, 165, 250, 0.1);
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
      animation: fadeIn 0.5s ease;
    }
    
    .question-number {
      background: rgba(96, 165, 250, 0.2);
      color: #60a5fa;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
      display: inline-block;
      margin-bottom: 20px;
    }
    
    .question-text {
      font-size: 18px;
      line-height: 1.8;
      margin-bottom: 25px;
      color: #e5e7eb;
    }
    
    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .option-btn {
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #334155;
      background: rgba(2, 6, 23, 0.6);
      color: #e5e7eb;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .option-btn:hover {
      transform: translateY(-2px);
      border-color: #60a5fa;
    }
    
    .option-btn.selected {
      border-color: #2563eb;
      background: rgba(37, 99, 235, 0.2);
      box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.3);
    }
    
    .option-btn.correct {
      border-color: #10b981;
      background: rgba(16, 185, 129, 0.2);
    }
    
    .option-btn.incorrect {
      border-color: #ef4444;
      background: rgba(239, 68, 68, 0.2);
    }
    
    .option-btn.disabled {
      opacity: 0.7;
      cursor: not-allowed;
    }
    
    .option-icon {
      font-size: 20px;
    }
    
    .feedback {
      margin-top: 20px;
      padding: 15px;
      border-radius: 10px;
      font-size: 16px;
      display: none;
      animation: fadeIn 0.3s ease;
    }
    
    .feedback.correct {
      background: rgba(16, 185, 129, 0.1);
      color: #10b981;
      border-right: 3px solid #10b981;
      display: block;
    }
    
    .feedback.incorrect {
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;
      border-right: 3px solid #ef4444;
      display: block;
    }
    
    .action-buttons {
      display: flex;
      gap: 15px;
      margin-top: 30px;
      justify-content: center;
    }
    
    .action-btn {
      flex: 1;
      padding: 18px;
      border-radius: 12px;
      border: none;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      max-width: 250px;
    }
    
    .next-btn {
      background: linear-gradient(145deg, #2563eb, #1d4ed8);
      color: white;
    }
    
    .next-btn:hover {
      background: linear-gradient(145deg, #1d4ed8, #2563eb);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(37, 99, 235, 0.4);
    }
    
    .next-btn:disabled {
      background: #4b5563;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .prev-btn {
      background: linear-gradient(145deg, #374151, #1f2937);
      color: #e5e7eb;
    }
    
    .prev-btn:hover {
      background: linear-gradient(145deg, #4b5563, #374151);
      transform: translateY(-2px);
    }
    
    .prev-btn:disabled {
      background: #374151;
      cursor: not-allowed;
      transform: none;
    }
    
    .result-panel {
      background: rgba(30, 41, 59, 0.9);
      border-radius: 20px;
      padding: 40px;
      margin-top: 30px;
      border: 2px solid rgba(96, 165, 250, 0.3);
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    .result-header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .result-header h2 {
      color: #60a5fa;
      margin: 0 0 10px 0;
      font-size: 2rem;
    }
    
    .final-score {
      font-size: 60px;
      font-weight: bold;
      color: #10b981;
      margin: 20px 0;
    }
    
    .score-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    
    .score-item {
      background: rgba(2, 6, 23, 0.6);
      padding: 20px;
      border-radius: 12px;
      text-align: center;
    }
    
    .score-label {
      font-size: 14px;
      color: #94a3b8;
      margin-bottom: 8px;
    }
    
    .score-value {
      font-size: 28px;
      font-weight: bold;
      color: #e5e7eb;
    }
    
    .answers-review {
      margin-top: 40px;
      border-top: 1px solid rgba(148, 163, 184, 0.2);
      padding-top: 30px;
    }
    
    .answers-review h3 {
      color: #fbbf24;
      margin-bottom: 20px;
      text-align: center;
    }
    
    .answers-list {
      max-height: 300px;
      overflow-y: auto;
      padding: 15px;
      background: rgba(2, 6, 23, 0.4);
      border-radius: 10px;
    }
    
    .answer-review-item {
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 8px;
      background: rgba(30, 41, 59, 0.6);
      border-left: 4px solid;
    }
    
    .answer-correct {
      border-left-color: #10b981;
    }
    
    .answer-incorrect {
      border-left-color: #ef4444;
    }
    
    .answer-unanswered {
      border-left-color: #94a3b8;
    }
    
    .review-question {
      font-weight: bold;
      margin-bottom: 5px;
    }
    
    .review-answer {
      font-size: 14px;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @media(max-width: 768px){
      .container { padding: 20px; }
      .options { grid-template-columns: 1fr; }
      .action-buttons { flex-direction: column; }
      .action-btn { max-width: 100%; }
      .header { flex-direction: column; gap: 15px; }
      .header h1 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Ù‡Ø¯Ø± Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Ø¨Ø±Ú¯Ø´Øª -->
    <div class="header">
      <button class="back-btn" onclick="goBackToMenu()">
        â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
      </button>
      <h1>âœ… Ø³ÙˆØ§Ù„Ø§Øª ØµØ­ÛŒØ­/ØºÙ„Ø· Ø³ÙˆØ§Ø¯ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ</h1>
    </div>
    
    <!-- Ù†ÙˆØ§Ø± Ù¾ÛŒØ´Ø±ÙØª -->
    <div class="progress-bar">
      <div class="progress" id="progress-bar"></div>
    </div>
    
    <!-- Ù¾Ù†Ù„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª -->
    <div class="info-panel">
      <div class="info-card">
        <div class="label">Ø³ÙˆØ§Ù„ ÙØ¹Ù„ÛŒ</div>
        <div class="value" id="current-question">1</div>
      </div>
      <div class="info-card">
        <div class="label">Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡</div>
        <div class="value" id="answered-count">0</div>
      </div>
      <div class="info-card">
        <div class="label">Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ù„ÛŒ</div>
        <div class="value" id="current-score">0</div>
      </div>
      <div class="info-card">
        <div class="label">Ø¯Ø±ØµØ¯ Ù¾ÛŒØ´Ø±ÙØª</div>
        <div class="value" id="progress-percentage">0%</div>
      </div>
    </div>
    
    <!-- Ú©Ø§Ø±Øª Ø³ÙˆØ§Ù„ -->
    <div id="question-container">
      <div class="question-card">
        <div class="question-number" id="question-number">Ø³ÙˆØ§Ù„ 1 Ø§Ø² 25</div>
        <div class="question-text" id="question-text"></div>
        
        <div class="options">
          <button class="option-btn" onclick="selectAnswer(true)" id="true-btn">
            <span class="option-icon">âœ…</span>
            ØµØ­ÛŒØ­
          </button>
          <button class="option-btn" onclick="selectAnswer(false)" id="false-btn">
            <span class="option-icon">âŒ</span>
            ØºÙ„Ø·
          </button>
        </div>
        
        <div class="feedback" id="feedback"></div>
      </div>
    </div>
    
    <!-- Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
    <div class="action-buttons">
      <button class="action-btn prev-btn" onclick="prevQuestion()" id="prev-btn">
        â† Ø³ÙˆØ§Ù„ Ù‚Ø¨Ù„ÛŒ
      </button>
      <button class="action-btn next-btn" onclick="nextQuestion()" id="next-btn">
        Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ â†’
      </button>
    </div>
    
    <!-- Ù¾Ù†Ù„ Ù†ØªØ§ÛŒØ¬ Ù†Ù‡Ø§ÛŒÛŒ -->
    <div class="result-panel" id="result-panel">
      <div class="result-header">
        <h2>ğŸ‰ Ù†ØªÛŒØ¬Ù‡ Ø¢Ø²Ù…ÙˆÙ† ØµØ­ÛŒØ­/ØºÙ„Ø·</h2>
        <div class="final-score" id="final-score">0%</div>
      </div>
      
      <div class="score-details">
        <div class="score-item">
          <div class="score-label">Ø³ÙˆØ§Ù„Ø§Øª Ú©Ù„</div>
          <div class="score-value" id="total-questions">25</div>
        </div>
        <div class="score-item">
          <div class="score-label">Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­</div>
          <div class="score-value" id="correct-answers">0</div>
        </div>
        <div class="score-item">
          <div class="score-label">Ù¾Ø§Ø³Ø® ØºÙ„Ø·</div>
          <div class="score-value" id="wrong-answers">0</div>
        </div>
        <div class="score-item">
          <div class="score-label">Ø¨Ø¯ÙˆÙ† Ù¾Ø§Ø³Ø®</div>
          <div class="score-value" id="unanswered-questions">25</div>
        </div>
      </div>
      
      <div class="answers-review">
        <h3>ğŸ“‹ Ù…Ø±ÙˆØ± Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</h3>
        <div class="answers-list" id="answers-review-list"></div>
      </div>
      
      <div class="action-buttons" style="margin-top: 40px;">
        <button class="action-btn prev-btn" onclick="restartQuiz()" style="max-width: 200px;">
          ğŸ”„ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯
        </button>
        <button class="action-btn next-btn" onclick="saveAndReturn()" style="max-width: 200px;">
          ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª
        </button>
      </div>
    </div>
  </div>

  <script>
    // Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÙˆØ§Ù„Ø§Øª
    const questions = [
      { q: "Ø±Ø³Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ø¹ÛŒÙ† ÙˆØ§Ù‚Ø¹ÛŒØª Ø±Ø§ Ø¨Ø§Ø²ØªØ§Ø¨ Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯ Ùˆ Ù‡ÛŒÚ† ØªØºÛŒÛŒØ±ÛŒ Ø¯Ø± Ø¢Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.", a: false },
      { q: "Ú©Ù„ÛŒØ´Ù‡â€ŒÙ‡Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ù…Ù†ÙÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±Ø¯ Ù…Ø«Ø¨ØªÛŒ Ø¯Ø± Ø§Ù†ØªÙ‚Ø§Ù„ Ø³Ø±ÛŒØ¹ Ù…ÙÙ‡ÙˆÙ… Ù†Ø¯Ø§Ø±Ù†Ø¯.", a: false },
      { q: "Ø¯Ø± ÙÙ† Ø§Ù„Ù‚Ø§ÛŒ Ù…Ø¹Ù†Ø§ÛŒÛŒØŒ Ø³Ø¹ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ù…Ø­ØµÙˆÙ„ Ø¨Ø§ ÛŒÚ© Ø­Ø³ Ø®ÙˆØ¨ Ø¯Ø± Ø°Ù‡Ù† Ù…Ø®Ø§Ø·Ø¨ Ú¯Ø±Ù‡ Ø¨Ø®ÙˆØ±Ø¯.", a: true },
      { q: "Ù…Ø®Ø§Ø·Ø¨ ÙØ¹Ø§Ù„ Ú©Ø³ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù‡Ø± Ù¾ÛŒØ§Ù…ÛŒ Ø±Ø§ Ù…ÛŒâ€ŒØ´Ù†ÙˆØ¯ØŒ Ø³Ø±ÛŒØ¹ Ø¨Ø§ÙˆØ± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.", a: false },
      { q: "Ø±Ù…Ø²Ù…ØªÙ†ØŒ Ù¾ÛŒØ§Ù…ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ ØµØ±Ø§Ø­Øª Ø¯Ø± Ù…ØªÙ† Ù†ÙˆØ´ØªÙ‡ ÛŒØ§ Ú¯ÙØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", a: false },
      { q: "Ù‡Ù…Ù‡ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø¯Ø§Ø±Ø§ÛŒ Ø§Ù‡Ø¯Ø§Ù Ø®Ø§ØµÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù…ÛŒ Ø®Ù†Ø«ÛŒ Ù†ÛŒØ³Øª.", a: true },
      { q: "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø·Ù†Ø² Ø¯Ø± ØªØ¨Ù„ÛŒØºØ§Øª Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ú©Ø§Ø± Ø¯ÙØ§Ø¹ÛŒ Ù…Ø®Ø§Ø·Ø¨ Ù¾Ø§ÛŒÛŒÙ† Ø¨ÛŒØ§ÛŒØ¯ Ùˆ Ù¾ÛŒØ§Ù… Ø±Ø§ Ø±Ø§Ø­Øªâ€ŒØªØ± Ø¨Ù¾Ø°ÛŒØ±Ø¯.", a: true },
      { q: "Ø³ÙˆØ§Ø¯ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ Ø¨Ù‡ Ù…Ø§ Ù…ÛŒâ€ŒØ¢Ù…ÙˆØ²Ø¯ Ú©Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø±Ø³Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ú©Ø§Ù…Ù„ Ù‚Ø·Ø¹ Ú©Ù†ÛŒÙ….", a: false },
      { q: "Ø¯Ø± ÙÙ† ØªÚ©Ø±Ø§Ø±ØŒ Ù‡Ø¯Ù Ø§ØµÙ„ÛŒ Ø®Ø³ØªÙ‡ Ú©Ø±Ø¯Ù† Ù…Ø®Ø§Ø·Ø¨ Ø§Ø³ØªØŒ Ù†Ù‡ Ù…Ø§Ù†Ø¯Ú¯Ø§Ø±ÛŒ Ù¾ÛŒØ§Ù….", a: false },
      { q: "ÛŒÚ© ØªØµÙˆÛŒØ± Ø«Ø§Ø¨Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¨Ø±Ø§ÛŒ Ø§ÙØ±Ø§Ø¯ Ù…Ø®ØªÙ„Ù Ø¨Ø§ ÙØ±Ù‡Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙØŒ Ø±Ù…Ø²Ù…ØªÙ†â€ŒÙ‡Ø§ÛŒ Ù…ØªÙØ§ÙˆØªÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.", a: true },
      { q: "ÙÙ† Ø¨Ø±Ú†Ø³Ø¨â€ŒØ²Ù†ÛŒ ÛŒØ¹Ù†ÛŒ Ù†Ø³Ø¨Øª Ø¯Ø§Ø¯Ù† ØµÙØ§Øª Ù…Ù†ÙÛŒ Ø¨Ù‡ Ø±Ù‚ÛŒØ¨ ÛŒØ§ Ø§ÛŒØ¯Ù‡ Ù…Ø®Ø§Ù„Ù.", a: true },
      { q: "Ø³Ø§Ø²Ù†Ø¯Ú¯Ø§Ù† Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ Ù‡Ø±Ú¯Ø² Ø§Ø±Ø²Ø´â€ŒÙ‡Ø§ Ùˆ Ø¯ÛŒØ¯Ú¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ù¾ÛŒØ§Ù… Ø§Ø¹Ù…Ø§Ù„ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.", a: false },
      { q: "Ø¯Ø±ÙˆØ§Ø²Ù‡â€ŒØ¨Ø§Ù†ÛŒ Ø®Ø¨Ø±ÛŒ ÛŒØ¹Ù†ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø§ÛŒÙ†Ú©Ù‡ Ú†Ù‡ Ø®Ø¨Ø±ÛŒ Ù¾Ø®Ø´ Ø´ÙˆØ¯ Ùˆ Ú†Ù‡ Ø®Ø¨Ø±ÛŒ Ù¾Ø®Ø´ Ù†Ø´ÙˆØ¯.", a: true },
      { q: "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² ÙˆØ§Ú˜Ù‡â€ŒÙ‡Ø§ÛŒ Ø§ØºØ±Ø§Ù‚â€ŒØ¢Ù…ÛŒØ² (ØªØ±ÛŒÙ†â€ŒÙ‡Ø§) Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ ÙÙ† ØªÙ‡Ø¯ÛŒØ¯ Ø§Ø³Øª.", a: false },
      { q: "ÙØ±Ø§Ú¯ÛŒØ± Ø¨ÙˆØ¯Ù† Ù¾ÛŒØ§Ù… Ùˆ Ø¬Ø°Ø§Ø¨ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ§Ù… (Ù…Ø«Ù„ Ø²Ù…Ø§Ù† Ø§Ù†ØªØ´Ø§Ø±) Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ù†Ø¯Ø§Ø±Ø¯.", a: false },
      { q: "ÛŒÚ©ÛŒ Ø§Ø² Ø±Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù‚Ø§Ø¨Ù„Ù‡ Ø¨Ø§ Ú©Ù„ÛŒØ´Ù‡â€ŒÙ‡Ø§ØŒ Ø§ÙØ²Ø§ÛŒØ´ ØªØ¹Ø§Ù…Ù„ Ø¨Ø§ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ùˆ Ú©Ø³Ø¨ Ø´Ù†Ø§Ø®Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ø³Øª.", a: true },
      { q: "ÙÙ† Ù…Ø±Ø¯Ù…â€ŒÙ…Ø­ÙˆØ±ÛŒØŒ Ø³Ø¹ÛŒ Ø¯Ø§Ø±Ø¯ Ù†Ø´Ø§Ù† Ø¯Ù‡Ø¯ Ú©Ù‡ Ù…Ø­ØµÙˆÙ„ Ø¨Ø±Ø§ÛŒ Ø§ÙØ±Ø§Ø¯ Ø®Ø§Øµ Ùˆ ÙØ±Ù‡ÛŒØ®ØªÙ‡ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", a: false },
      { q: "Ø¨Ø§Ø²Ù†Ù…Ø§ÛŒÛŒ Ø±Ø³Ø§Ù†Ù‡â€ŒØ§ÛŒ ØµØ±ÙØ§Ù‹ Ø³Ø±Ú¯Ø±Ù…ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù… ÛŒØ§ Ø§ÛŒØ¯Ø¦ÙˆÙ„ÙˆÚ˜ÛŒ Ø®Ø§ØµÛŒ Ø±Ø§ Ù…Ù†ØªÙ‚Ù„ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯.", a: false },
      { q: "Ø¯Ø§Ø´ØªÙ† ØªÙÚ©Ø± Ø§Ù†ØªÙ‚Ø§Ø¯ÛŒ Ø¨Ù‡ Ù…Ø§ Ú©Ù…Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ ÙØ±ÛŒØ¨ ÙÙ†ÙˆÙ† Ø§Ù‚Ù†Ø§Ø¹ Ø±Ø§ Ù†Ø®ÙˆØ±ÛŒÙ….", a: true },
      { q: "Ø¯Ø± Ù…Ø¯Ù„ Ø§Ø±ØªØ¨Ø§Ø·ÛŒØŒ ÙØ±Ø³ØªÙ†Ø¯Ù‡ Ú©Ø³ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù¾ÛŒØ§Ù… Ø±Ø§ ØªÙˆÙ„ÛŒØ¯ Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.", a: true },
      { q: "Ø§Ø² Ù…Ø«Ø§Ù„â€ŒÙ‡Ø§ÛŒ ÙÙ† Ø´Ø¯Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ Ø­Ø±Ø§Ø¬ Ùˆ Ù‚Ø±Ø¹Ù‡â€ŒÚ©Ø´ÛŒ Ø§Ø´Ø§Ø±Ù‡ Ú©Ø±Ø¯.", a: true },
      { q: "Ù…Ø®Ø§Ø·Ø¨ ÙØ¹Ø§Ù„ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ù‡Ø± Ù¾ÛŒØ§Ù… Ø¯Ø±ÛŒØ§ÙØªÛŒ ØªØ³Ù„ÛŒÙ… Ø§Ø³Øª Ùˆ Ø¢Ù† Ø±Ø§ Ø¨ÛŒâ€ŒÚ©Ù…â€ŒÙˆÚ©Ø§Ø³Øª Ù…ÛŒâ€ŒÙ¾Ø°ÛŒØ±Ø¯.", a: false },
      { q: "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨ÛŒØ´ Ø§Ø² Ø­Ø¯ Ø§Ø² Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ø¬Ø§Ù„Ø¨ Ù†ÛŒØ³Øª.", a: false },
      { q: "Ø¯Ø± Ø¨Ù‡â€ŒÚ©Ø§Ø±Ú¯ÛŒØ±ÛŒ ØµÙØ§Øª Ø¹Ø§Ù„ÛŒ (ØªØ±ÛŒÙ†) Ø¯Ø± ØªØ¨Ù„ÛŒØºØ§Øª Ø§Ø² ÙÙ† ØªØ·Ù…ÛŒØ¹ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª.", a: true },
      { q: "ÛŒÚ©ÛŒ Ø§Ø² Ù†Ù…ÙˆÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†ÙÛŒ Ú©Ù„ÛŒØ´Ù‡â€ŒØ³Ø§Ø²ÛŒØŒ Ø¨Ø§Ø²Ù†Ù…Ø§ÛŒÛŒ Ø§ØºØ±Ø§Ù‚â€ŒØ¢Ù…ÛŒØ² Ø§Ù‚Ø´Ø§Ø± Ø¬Ø§Ù…Ø¹Ù‡ Ø¯Ø± Ø±Ø³Ø§Ù†Ù‡â€ŒÙ‡Ø§ Ø§Ø³Øª.", a: true }
    ];

    // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø³Ø±Ø§Ø³Ø±ÛŒ
    let currentIndex = 0;
    let score = 0;
    let answeredCount = 0;
    const totalQuestions = questions.length;
    const userAnswers = new Array(totalQuestions).fill(null);
    const answerStatus = new Array(totalQuestions).fill(null); // null = unanswered, true = correct, false = incorrect

    // ØªØ§Ø¨Ø¹ Ø¨Ø±Ú¯Ø´Øª Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ
    function goBackToMenu() {
      if (answeredCount > 0) {
        if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²Ú¯Ø±Ø¯ÛŒØ¯ØŸ Ù†ØªØ§ÛŒØ¬ Ø°Ø®ÛŒØ±Ù‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.')) {
          saveScore();
          window.location.href = 'index.html';
        }
      } else {
        window.location.href = 'index.html';
      }
    }

    // ØªØ§Ø¨Ø¹ Ø°Ø®ÛŒØ±Ù‡ Ù†Ù…Ø±Ù‡
    function saveScore() {
      const percentage = Math.round((score / totalQuestions) * 100);
      localStorage.setItem('tfScore', percentage);
    }

    // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ø³ÙˆØ§Ù„
    function renderQuestion() {
      const question = questions[currentIndex];
      
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
      document.getElementById('question-number').textContent = `Ø³ÙˆØ§Ù„ ${currentIndex + 1} Ø§Ø² ${totalQuestions}`;
      document.getElementById('question-text').textContent = question.q;
      document.getElementById('current-question').textContent = currentIndex + 1;
      
      // Ø±ÛŒØ³Øª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
      document.getElementById('true-btn').classList.remove('selected', 'correct', 'incorrect');
      document.getElementById('false-btn').classList.remove('selected', 'correct', 'incorrect');
      
      // Ø§Ú¯Ø± Ù‚Ø¨Ù„Ø§Ù‹ Ù¾Ø§Ø³Ø® Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡
      if (userAnswers[currentIndex] !== null) {
        const isCorrect = answerStatus[currentIndex];
        const trueBtn = document.getElementById('true-btn');
        const falseBtn = document.getElementById('false-btn');
        
        if (userAnswers[currentIndex] === true) {
          trueBtn.classList.add('selected');
        } else {
          falseBtn.classList.add('selected');
        }
        
        if (isCorrect) {
          document.getElementById('feedback').textContent = "âœ… Ù¾Ø§Ø³Ø® Ø´Ù…Ø§ ØµØ­ÛŒØ­ Ø§Ø³Øª!";
          document.getElementById('feedback').className = "feedback correct";
        } else {
          document.getElementById('feedback').textContent = `âŒ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: ${question.a ? "ØµØ­ÛŒØ­" : "ØºÙ„Ø·"}`;
          document.getElementById('feedback').className = "feedback incorrect";
        }
        
        // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
        trueBtn.classList.add('disabled');
        falseBtn.classList.add('disabled');
      } else {
        document.getElementById('feedback').style.display = 'none';
        document.getElementById('true-btn').classList.remove('disabled');
        document.getElementById('false-btn').classList.remove('disabled');
      }
      
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØª
      updateProgress();
      
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ
      document.getElementById('prev-btn').disabled = currentIndex === 0;
      document.getElementById('next-btn').textContent = currentIndex === totalQuestions - 1 ? 'Ù¾Ø§ÛŒØ§Ù† Ø¢Ø²Ù…ÙˆÙ†' : 'Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ â†’';
    }

    // ØªØ§Ø¨Ø¹ Ø§Ù†ØªØ®Ø§Ø¨ Ù¾Ø§Ø³Ø®
    function selectAnswer(answer) {
      if (userAnswers[currentIndex] !== null) return;
      
      const question = questions[currentIndex];
      const isCorrect = answer === question.a;
      
      userAnswers[currentIndex] = answer;
      answerStatus[currentIndex] = isCorrect;
      answeredCount++;
      
      if (isCorrect) {
        score++;
        document.getElementById('feedback').textContent = "âœ… Ù¾Ø§Ø³Ø® Ø´Ù…Ø§ ØµØ­ÛŒØ­ Ø§Ø³Øª!";
        document.getElementById('feedback').className = "feedback correct";
      } else {
        document.getElementById('feedback').textContent = `âŒ Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: ${question.a ? "ØµØ­ÛŒØ­" : "ØºÙ„Ø·"}`;
        document.getElementById('feedback').className = "feedback incorrect";
      }
      
      // Ø¹Ù„Ø§Ù…Øªâ€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø¯Ú©Ù…Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
      if (answer) {
        document.getElementById('true-btn').classList.add('selected');
        document.getElementById('true-btn').classList.add(isCorrect ? 'correct' : 'incorrect');
      } else {
        document.getElementById('false-btn').classList.add('selected');
        document.getElementById('false-btn').classList.add(isCorrect ? 'correct' : 'incorrect');
      }
      
      // ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
      document.getElementById('true-btn').classList.add('disabled');
      document.getElementById('false-btn').classList.add('disabled');
      
      // Ù†Ù…Ø§ÛŒØ´ ÙÛŒØ¯Ø¨Ú©
      document.getElementById('feedback').style.display = 'block';
      
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ø±ÛŒ Ù†Ù…Ø§ÛŒØ´
      updateDisplay();
    }

    // ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´
    function updateDisplay() {
      document.getElementById('answered-count').textContent = answeredCount;
      document.getElementById('current-score').textContent = score;
      updateProgress();
    }

    // ØªØ§Ø¨Ø¹ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ´Ø±ÙØª
    function updateProgress() {
      const progress = ((currentIndex + 1) / totalQuestions) * 100;
      document.getElementById('progress-bar').style.width = `${progress}%`;
      document.getElementById('progress-percentage').textContent = `${Math.round(progress)}%`;
    }

    // ØªØ§Ø¨Ø¹ Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ
    function nextQuestion() {
      if (currentIndex < totalQuestions - 1) {
        currentIndex++;
        renderQuestion();
      } else {
        showResults();
      }
    }

    // ØªØ§Ø¨Ø¹ Ø³ÙˆØ§Ù„ Ù‚Ø¨Ù„ÛŒ
    function prevQuestion() {
      if (currentIndex > 0) {
        currentIndex--;
        renderQuestion();
      }
    }

    // ØªØ§Ø¨Ø¹ Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬
    function showResults() {
      const percentage = Math.round((score / totalQuestions) * 100);
      const wrongAnswers = answeredCount - score;
      const unanswered = totalQuestions - answeredCount;
      
      // Ø°Ø®ÛŒØ±Ù‡ Ù†Ù…Ø±Ù‡
      saveScore();
      
      // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†ØªØ§ÛŒØ¬
      document.getElementById('final-score').textContent = `${percentage}%`;
      document.getElementById('correct-answers').textContent = score;
      document.getElementById('wrong-answers').textContent = wrongAnswers;
      document.getElementById('unanswered-questions').textContent = unanswered;
      
      // Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒØ³Øª Ù…Ø±ÙˆØ± Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§
      const reviewList = document.getElementById('answers-review-list');
      reviewList.innerHTML = '';
      
      questions.forEach((question, index) => {
        const userAnswer = userAnswers[index];
        const isCorrect = answerStatus[index];
        const reviewItem = document.createElement('div');
        
        reviewItem.className = 'answer-review-item';
        
        if (userAnswer === null) {
          reviewItem.className += ' answer-unanswered';
          reviewItem.innerHTML = `
            <div class="review-question">Ø³ÙˆØ§Ù„ ${index + 1}: ${question.q}</div>
            <div class="review-answer">ğŸ“­ Ø¨Ø¯ÙˆÙ† Ù¾Ø§Ø³Ø® | Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: ${question.a ? "ØµØ­ÛŒØ­" : "ØºÙ„Ø·"}</div>
          `;
        } else if (isCorrect) {
          reviewItem.className += ' answer-correct';
          reviewItem.innerHTML = `
            <div class="review-question">Ø³ÙˆØ§Ù„ ${index + 1}: ${question.q}</div>
            <div class="review-answer">âœ… Ù¾Ø§Ø³Ø® Ø´Ù…Ø§: ${userAnswer ? "ØµØ­ÛŒØ­" : "ØºÙ„Ø·"} (ØµØ­ÛŒØ­)</div>
          `;
        } else {
          reviewItem.className += ' answer-incorrect';
          reviewItem.innerHTML = `
            <div class="review-question">Ø³ÙˆØ§Ù„ ${index + 1}: ${question.q}</div>
            <div class="review-answer">âŒ Ù¾Ø§Ø³Ø® Ø´Ù…Ø§: ${userAnswer ? "ØµØ­ÛŒØ­" : "ØºÙ„Ø·"} | Ù¾Ø§Ø³Ø® ØµØ­ÛŒØ­: ${question.a ? "ØµØ­ÛŒØ­" : "ØºÙ„Ø·"}</div>
          `;
        }
        
        reviewList.appendChild(reviewItem);
      });
      
      // Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯Ù† Ø¨Ø®Ø´ Ø³ÙˆØ§Ù„Ø§Øª Ùˆ Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬
      document.getElementById('question-container').style.display = 'none';
      document.querySelector('.action-buttons').style.display = 'none';
      document.getElementById('result-panel').style.display = 'block';
      document.getElementById('result-panel').scrollIntoView({ behavior: 'smooth' });
    }

    // ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯
    function restartQuiz() {
      if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¢Ø²Ù…ÙˆÙ† Ø±Ø§ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ØŸ')) {
        currentIndex = 0;
        score = 0;
        answeredCount = 0;
        userAnswers.fill(null);
        answerStatus.fill(null);
        
        // Ù†Ù…Ø§ÛŒØ´ Ù…Ø¬Ø¯Ø¯ Ø¨Ø®Ø´ Ø³ÙˆØ§Ù„Ø§Øª
        document.getElementById('question-container').style.display = 'block';
        document.querySelector('.action-buttons').style.display = 'flex';
        document.getElementById('result-panel').style.display = 'none';
        
        renderQuestion();
        updateDisplay();
      }
    }

    // ØªØ§Ø¨Ø¹ Ø°Ø®ÛŒØ±Ù‡ Ùˆ Ø¨Ø§Ø²Ú¯Ø´Øª
    function saveAndReturn() {
      saveScore();
      window.location.href = 'index.html';
    }

    // Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ ØµÙØ­Ù‡
    document.addEventListener('DOMContentLoaded', function() {
      renderQuestion();
      updateDisplay();
    });
  </script>
</body>
</html>